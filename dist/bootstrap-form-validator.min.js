/*!
 * Bootstrap Form Validator by apalfrey & luc122c
 * https://github.com/apalfrey/bootstrap-form-validator
 * License: MIT
 */
!function(e){"function"!=typeof moment&&console.warn("Bootstrap Form Validator requires Moment to be installed in order to use the date/time validations");const a={required:function(){let e=n.field_info;return e.required&&"radio"!==e.type&&"checkbox"!==e.type?""==e.val||void 0===e.val||null===e.val?(n.errors.push([e.node,e.name,"error",!1]),n.valid=!1,!1):(n.errors.push([e.node,e.name,"error",!0]),!0):("radio"!==e.type&&"checkbox"!==e.type&&n.errors.push([e.node,e.name,"error",!0]),!0)},required_radio:function(){let a=n.field_info;if("radio"==a.type&&-1===e.inArray(a.name,n.radios)){n.radios.push(a.name);let t=e('input[name="'+a.name+'"]'),r=!1;if(e(t).each(function(){e(this).prop("required")&&(r=!0)}),r)return e(t).is(":checked")?(t.each(function(e,t){n.errors.push([t,a.name,"invalid",!0])}),!0):(t.each(function(e,t){n.errors.push([t,a.name,"invalid",!1])}),n.valid=!1,!1)}return!0},required_checkbox:function(){let a=n.field_info;if("checkbox"==a.type&&-1===e.inArray(a.name,n.checkboxes)){n.checkboxes.push(a.name);let t=e('input[name="'+a.name+'"]:checked').length,r=e('input[name="'+a.name+'"]'),i=parseInt(e('input[name="'+a.name+'"][min]').attr("min")),o=parseInt(e('input[name="'+a.name+'"][max]').attr("max")),d=!1;return e(r).each(function(){e(this).prop("required")&&(d=!0)}),d&&t<=0?(n.errors.push([a.node,a.name,"invalid",!1]),n.valid=!1,!1):t>o||t<i?(e(r).each(function(e,t){n.errors.push([t,a.name,"min-max",!1])}),n.valid=!1,!1):(n.errors.push([a.node,a.name,"invalid",!0]),e(r).each(function(e,t){n.errors.push([t,a.name,"min-max",!0])}),!0)}return!0},number:function(){let e=n.field_info;return"number"!=e.type||""===e.val||(isNaN(e.val)?(n.errors.push([e.node,e.name,"invalid",!1]),n.valid=!1,!1):(n.errors.push([e.node,e.name,"invalid",!0]),!0))},min_max:function(){let e=n.field_info;return!!("number"!=e.type||""===e.val||isNaN(e.min)&&isNaN(e.max))||(e.val=parseInt(e.val),e.min=parseInt(e.min),e.max=parseInt(e.max),e.val<e.min||e.val>e.max?(n.errors.push([e.node,e.name,"min-max",!1]),n.valid=!1,!1):(n.errors.push([e.node,e.name,"min-max",!0]),!0))},email:function(){let e=n.field_info;return"email"!=e.type||""===e.val||(t.email.test(e.val)?(n.errors.push([e.node,e.name,"invalid",!0]),!0):(n.errors.push([e.node,e.name,"invalid",!1]),n.valid=!1,!1))},url:function(){let e=n.field_info;return"url"!=e.type||""===e.val||(t.url.test(e.val)?(n.errors.push([e.node,e.name,"invalid",!0]),!0):(n.errors.push([e.node,e.name,"invalid",!1]),n.valid=!1,!1))},date_time:function(){let e=n.field_info;if(void 0!==e.data_type&&""!==e.data_type&&""!==e.val&&"function"==typeof moment){let a="YYYY-MM-DD",t="";return"date"==e.data_type?(a="YYYY-MM-DD",t="Date"):"time"==e.data_type?(a="HH:mm:ss",t="Time"):"date-time"==e.data_type&&(a="YYYY-MM-DD HH:mm:ss",t="Date/Time"),void 0!==e.data_val&&""!==e.data_val&&(a=e.data_val),moment(e.val,a,!0).isValid()?(n.errors.push([e.node,e.name,"invalid",!0]),!0):(n.errors.push([e.node,e.name,"invalid",!1]),n.valid=!1,!1)}return!0},file_type:function(){let a=n.field_info;if("file"==a.type&&""!==a.val&&void 0!==a.accept&&""!==a.accept){let t=a.accept.split(",").map(function(e){return e.trim()}),r=!0;return e.each(a.files,function(a,n){-1===e.inArray(n.type,t)&&e.each(t,function(e,a){n.name.endsWith(a)||(r=!1)})}),r?(n.errors.push([a.node,a.name,"invalid",!0]),!0):(n.errors.push([a.node,a.name,"invalid",!1]),n.valid=!1,!1)}return!0},pattern:function(){let e=n.field_info;if(void 0!==e.pattern&&""!==e.pattern&&""!==e.val){let a=new RegExp(e.pattern);return void 0!==e.data_val&&""!==e.data_val&&(a=new RegExp(e.pattern,e.data_val)),a.test(e.val)?(n.errors.push([e.node,e.name,"invalid",!0]),!0):(n.errors.push([e.node,e.name,"invalid",!1]),n.valid=!1,!1)}return!0},min_max_select:function(){let e=n.field_info;return!!("select"!=e.node_name||!e.multiple||isNaN(e.min)&&isNaN(e.max))||(e.min=parseInt(e.min),e.max=parseInt(e.max),e.val&&(e.val.length<e.min||e.val.length>e.max)?(n.errors.push([e.node,e.name,"min-max",!1]),n.valid=!1,!1):(n.errors.push([e.node,e.name,"min-max",!0]),!0))},min_max_length:function(){let e=n.field_info;if(!(isNaN(e.minlength)&&isNaN(e.maxlength)||""===e.val)){return e.minlength=parseInt(e.minlength),e.maxlength=parseInt(e.maxlength),("number"!=typeof e.minlength||isNaN(e.minlength))&&(e.minlength=0),("number"!=typeof e.maxlength||isNaN(e.maxlength))&&(e.maxlength=""),new RegExp("^.{"+e.minlength+","+e.maxlength+"}$").test(e.val)||0===e.val.length?(n.errors.push([e.node,e.name,"min-max-length",!0]),!0):(n.errors.push([e.node,e.name,"min-max-length",!1]),n.valid=!1,!1)}return!0},exact_select:function(){let e=n.field_info;return!("select"==e.node_name&&e.multiple&&!isNaN(e.data_length)&&""!==e.val)||(e.data_length=parseInt(e.data_length),e.val&&e.val.length!==e.data_length?(n.errors.push([e.node,e.name,"length",!1]),n.valid=!1,!1):(n.errors.push([e.node,e.name,"length",!0]),!0))},exact_length:function(){let e=n.field_info;return!("select"!==e.node_name&&!isNaN(e.data_length)&&""!==e.val)||(e.data_length=parseInt(e.data_length),String(e.val).length!==e.data_length?(n.errors.push([e.node,e.name,"length",!1]),n.valid=!1,!1):(n.errors.push([e.node,e.name,"length",!0]),!0))},min_max_word:function(){let a=n.field_info;if(!(isNaN(a.data_min_word)&&isNaN(a.data_max_word)||""===a.val)){a.data_min_word=parseInt(a.data_min_word),a.data_max_word=parseInt(a.data_max_word);let t=a.val.split(/\s+/),r=0;return e.each(t,function(e,a){""!==a&&r++}),0!==a.data_min_word&&r<a.data_min_word||0!==a.data_max_word&&r>a.data_max_word?(n.errors.push([a.node,a.name,"min-max-word",!1]),n.valid=!1,!1):(n.errors.push([a.node,a.name,"min-max-word",!0]),!0)}return!0},match:function(){let a=n.field_info;if(void 0!==a.match){let t=e(a.match);if(""!==a.val||""!==t.val())return a.val!==t.val()?(n.errors.push([a.node,a.name,"match",!1]),n.errors.push([t,t.attr("name"),"",!1]),n.valid=!1,!1):(n.errors.push([a.node,a.name,"match",!0]),n.errors.push([t,t.attr("name"),"",!0]),!0)}return!0}};var n={valid:!0,radios:[],checkboxes:[],ignore:["submit","reset"],errors:[],field_info:{}};const t={email:new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),url:new RegExp(/^(?:(?:https?|ftp):\/\/)?(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/i)};e.fn.bootstrap_validate=function(t){return(new Date).toUTCString(),"function"==typeof e.fn.affix?(e(".help-block").addClass("hidden"),e(".help-block").closest(".form-group").removeClass("has-error has-success")):(e(".form-feedback").addClass("d-none").removeClass("invalid-feedback d-block"),this.removeClass("is-valid is-invalid")),n={valid:!0,radios:[],checkboxes:[],ignore:n.ignore,errors:[],field_info:{}},this.each(function(r,i){n.field_info={node:e(i),name:e(i).attr("name"),val:e(i).val(),type:e(i).attr("type"),node_name:e(i).prop("nodeName").toLowerCase(),required:e(i).prop("required"),min:e(i).attr("min"),max:e(i).attr("max"),data_type:e(i).attr("data-type"),data_val:e(i).attr("data-value"),minlength:e(i).attr("minlength"),maxlength:e(i).attr("maxlength"),data_length:e(i).attr("data-length"),data_min_word:e(i).attr("data-min-word"),data_max_word:e(i).attr("data-max-word"),pattern:e(i).attr("pattern"),accept:e(i).attr("accept"),files:e(i).prop("files"),match:e(i).attr("data-match"),multiple:e(i)[0].hasAttribute("multiple")};let o=!0;if(-1!==e.inArray(n.field_info.type,n.ignore))return!0;"radio"!=n.field_info.type&&"checkbox"!=n.field_info.type||(n.field_info.val=""),n.field_info.name,a[t]?o=a[t]():e.each(a,function(e){o&&(o=a[e]())})}),e.each(n.errors,function(a,n){let t=n[0],r=n[1],i=n[2],o=n[3];i="#"+(r=(r=(r=r.split(/[\[\]]/)).filter(function(e){return""!==e})).join("-"))+"-"+i,"function"==typeof e.fn.affix?o?o&&(e(i).addClass("hidden"),e(i).closest(".form-group").addClass("has-success").removeClass("has-error")):(e(i).removeClass("hidden"),e(i).closest(".form-group").addClass("has-error").removeClass("has-success")):o?o&&(e(i).addClass("d-none").removeClass("invalid-feedback d-block"),e(t).addClass("is-valid").removeClass("is-invalid")):(e(i).addClass("invalid-feedback d-block").removeClass("d-none"),e(t).addClass("is-invalid").removeClass("is-valid"))}),n.valid},void 0===String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)})}(jQuery);